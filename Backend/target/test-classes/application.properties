# =============================================================
# Test Profile Configuration (H2 In-Memory Database)
# =============================================================
# This profile is automatically used during `mvn test` to mock
# database integration without requiring a real PostgreSQL instance.
# This enables GitHub Actions CI to run tests without network access.
# =============================================================

spring.application.name=backend-test

# ==================== Database (H2 In-Memory) ====================
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# JPA Configuration for H2
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# ==================== Security ====================
# JWT Secret for testing (32+ characters required)
app.jwt.secret=test-secret-key-for-unit-testing-purposes-only-32chars

# JWT token expiration (1 hour for tests)
app.jwt.expiration-ms=3600000

# ==================== Logging ====================
# Minimal logging during tests
logging.level.root=WARN
logging.level.com.studentnotes=INFO
logging.level.org.hibernate.SQL=WARN

# ==================== Caching ====================
spring.cache.type=none
